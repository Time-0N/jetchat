<div class="friend-requests-container">
  <header class="page-header">
    <h1>Friend Requests</h1>
    <p>Manage your friend requests</p>
  </header>

  <div class="requests-sections">
    <section class="requests-section">
      <h2>Received Requests <span class="count-badge"><%= @received_requests.count %></span></h2>

      <% if @received_requests.any? %>
        <div class="requests-list">
          <% @received_requests.each do |request| %>
            <div class="request-card">
              <div class="request-info">
                <h3><%= request.sender.name %></h3>
                <p class="request-email"><%= request.sender.email %></p>
                <p class="request-date">Sent <%= time_ago_in_words(request.created_at) %> ago</p>
                <% if request.message.present? %>
                  <p class="request-message">"<%= request.message %>"</p>
                <% end %>
              </div>

              <div class="request-actions">
                <%= button_to "Accept", accept_friend_request_path(request),
                              method: :patch,
                              class: "btn btn-success",
                              data: { confirm: "Accept friend request from #{request.sender.name}?" } %>
                <%= button_to "Decline", decline_friend_request_path(request),
                              method: :patch,
                              class: "btn btn-decline",
                              data: { confirm: "Decline friend request from #{request.sender.name}?" } %>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="empty-state">
          <div class="empty-icon">ğŸ“«</div>
          <h3>No pending requests</h3>
          <p>You don't have any friend requests at the moment.</p>
        </div>
      <% end %>
    </section>

    <section class="requests-section">
      <h2>Sent Requests <span class="count-badge"><%= @sent_requests.count %></span></h2>

      <% if @sent_requests.any? %>
        <div class="requests-list">
          <% @sent_requests.each do |request| %>
            <div class="request-card sent-request">
              <div class="request-info">
                <h3><%= request.receiver.name %></h3>
                <p class="request-email"><%= request.receiver.email %></p>
                <p class="request-date">Sent <%= time_ago_in_words(request.created_at) %> ago</p>
                <% if request.message.present? %>
                  <p class="request-message">"<%= request.message %>"</p>
                <% end %>
              </div>

              <div class="request-actions">
                <span class="btn btn-pending">Pending</span>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="empty-state">
          <div class="empty-icon">ğŸ“¤</div>
          <h3>No sent requests</h3>
          <p>You haven't sent any friend requests recently.</p>
        </div>
      <% end %>
    </section>
  </div>

  <div class="page-actions">
    <%= link_to "Back to Dashboard", dashboard_path, class: "btn btn-secondary" %>
  </div>

</div>