<div class="discover-container">
  <header class="page-header">
    <h1>Discover People</h1>
    <p>Find and connect with new friends</p>
  </header>

  <div class="search-section">
    <%= form_with url: discover_friends_path, method: :get, local: false, id: "search-form", class: "search-form" do |f| %>
      <div class="search-input-group">
        <%= f.text_field :search,
                         placeholder: "Search by name...",
                         value: params[:search],
                         class: "search-input",
                         autocomplete: "off" %>
        <%= f.submit "Search", class: "search-btn" %>
      </div>
    <% end %>
  </div>

  <div id="results-container">
    <% if @users.any? %>
      <div class="users-grid" id="users-grid">
        <% @users.each do |user| %>
          <%= render 'user_card', user: user, friendship_status: @friendship_status[user.id] %>
        <% end %>
      </div>

      <% unless @is_search %>
        <% if @users.count == 10 %>
          <div class="load-more-container">
            <button id="load-more-btn" class="load-more-btn" data-page="<%= @page + 1 %>">
              Load More
            </button>
          </div>
        <% end %>
      <% end %>
    <% else %>
      <div class="empty-state">
        <div class="empty-icon">ðŸ‘¥</div>
        <h3>No users found</h3>
        <p>
          <% if @is_search %>
            Try a different search term
          <% else %>
            Check back later for new people to connect with!
          <% end %>
        </p>
      </div>
    <% end %>
  </div>

  <div class="page-actions">
    <%= link_to "Back to Dashboard", dashboard_path, class: "btn btn-secondary" %>
  </div>
</div>
